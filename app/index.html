<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Scrumble - Vote on Chattanooga's Best Restaurants, Businesses & More</title>
    <link rel="icon" type="image/x-icon" href="public/scrumble_favicon.ico" />
    <link rel="canonical" href="https://scrumble.cc/" />
    <meta
      name="description"
      content="Daily matchups for Chattanooga. Vote on the best tacos, coffee, mayors, and more. See what the city really thinks."
    />
    <meta name="keywords" content="Chattanooga, voting, local businesses, restaurants, best of Chattanooga, Scenic City" />
    
    <!-- Open Graph / Social Media Meta Tags -->
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Scrumble - Vote on Chattanooga's Best" />
    <meta property="og:description" content="Daily matchups for Chattanooga. Vote on the best tacos, coffee, mayors, and more. See what the city really thinks." />
    <meta property="og:url" content="https://scrumble.cc" />
    <meta property="og:site_name" content="Scrumble" />
    <meta property="og:image" content="https://scrumble.cc/public/white_duck_logo.png" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta property="og:image:alt" content="Scrumble - Chattanooga voting game" />
    <meta property="og:locale" content="en_US" />
    
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Scrumble - Vote on Chattanooga's Best" />
    <meta name="twitter:description" content="Daily matchups for Chattanooga. Vote on the best tacos, coffee, mayors, and more." />
    <meta name="twitter:image" content="https://scrumble.cc/public/white_duck_logo.png" />
    <meta name="twitter:image:alt" content="Scrumble - Chattanooga voting game" />
    <meta name="twitter:site" content="@scrumble" />
    <meta name="twitter:creator" content="@scrumble" />
    
    <!-- Schema.org structured data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebSite",
      "name": "Scrumble",
      "alternateName": "Scenic City Rumble",
      "url": "https://scrumble.cc",
      "description": "Daily matchups for Chattanooga. Vote on the best tacos, coffee, mayors, and more.",
      "potentialAction": {
        "@type": "SearchAction",
        "target": "https://scrumble.cc/?q={search_term_string}",
        "query-input": "required name=search_term_string"
      },
      "areaServed": {
        "@type": "City",
        "name": "Chattanooga",
        "@id": "https://www.wikidata.org/wiki/Q186702"
      }
    }
    </script>
    
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Fraunces:wght@600;700&family=Space+Grotesk:wght@400;500;600&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <nav class="navbar">
      <a href="/" class="navbar-brand" style="text-decoration: none; color: inherit;">SCRUMBLE</a>
      <div class="navbar-time" style="opacity: 0; transition: opacity 0.3s ease; color: var(--nav-accent); font-size: 0.9rem; font-weight: 500;"></div>
      <button class="navbar-toggle" aria-label="Toggle menu">
        <span></span>
        <span></span>
        <span></span>
      </button>
      <ul class="navbar-menu">
        <li><a href="#arena">Vote</a></li>
        <li><a href="submit.html">Submit</a></li>
        <li><a href="history.html">History</a></li>
        <li><a href="posters.html">Art</a></li>
        <li><a href="about.html">About</a></li>
        <li><a href="jobs.html">Jobs</a></li>
        <li><button class="admin-toggle" type="button">Admin</button></li>
        <li><button class="theme-toggle" type="button" aria-label="Cycle theme">Theme</button></li>
      </ul>
    </nav>
    <div class="page">
      <header class="hero">
        <div class="hero-bg" id="hero-bg"></div>
        <h1 class="hero-title" role="heading" aria-level="1">
          <span class="hero-word hero-word-1">SCENIC</span>
          <span class="hero-word hero-word-2">CITY</span>
          <span class="hero-word hero-word-3">RUMBLE</span>
        </h1>
        <div class="hero-actions">
          <button class="btn primary" data-scroll="arena" data-text="VOTE NOW">VOTE NOW</button>
          <a href="submit.html" class="btn ghost" style="text-decoration: none; line-height: 2.2;" data-text="SUBMIT A MATCHUP">SUBMIT A MATCHUP</a>
          <button class="btn ghost" id="future-matchups-btn" data-text="FUTURE MATCHUPS">FUTURE MATCHUPS</button>
        </div>
      </header>

      <main>
        <section class="arena" id="arena">
          <div class="arena-header">
            <div>
              <h2>What's Better in Chattanooga?</h2>
            </div>
            <div class="arena-badge">Live</div>
          </div>

          <div class="matchup-container" id="matchup-container">
            <div class="tiny" id="matchup-empty" style="text-align: center; padding: 20px; color: var(--muted);">Loading matchups...</div>
          </div>

          <div class="arena-footer">
            <div class="tiny">Last updated 2 minutes ago</div>
            <button class="btn link">Next matchup</button>
          </div>
        </section>

        <section class="info-grid">
          <article class="panel">
            <h4>How it works</h4>
            <p>Vote on local matchups. One vote per person. Fast, simple, done.</p>
          </article>
          <article class="panel">
            <h4>What we cover</h4>
            <p>Chattanooga, Dynamo of Dixie, the Scenic City, Gig City, River City—all the best of our town.</p>
          </article>
          <article class="panel">
            <h4>Bring the heat</h4>
            <p><a href="submit.html" style="color: var(--accent); text-decoration: none;">Submit a matchup</a> and we'll get it in the ring.</p>
          </article>
        </section>
      </main>

      <footer>
        <div>Scenic City Rumble - Chattanooga, TN</div>
        <div>scrumble.cc</div>
      </footer>
    </div>

    <!-- Future Matchups Modal -->
    <div class="modal" id="future-modal" style="display: none;">
      <div class="modal-overlay"></div>
      <div class="modal-content">
        <div class="modal-header">
          <h2>Upcoming Matchups</h2>
          <button class="modal-close" aria-label="Close">&times;</button>
        </div>
        <div class="modal-body" id="future-list">
          <div style="text-align: center; padding: 20px; color: var(--muted);">Loading...</div>
        </div>
      </div>
    </div>

    <div class="sticky-vote" id="sticky-vote">
      <button class="btn primary sticky-vote-btn" id="sticky-vote-btn" data-text="VOTE NOW">VOTE NOW</button>
    </div>

    <div class="toast" id="toast" role="status" aria-live="polite"></div>

    <!-- Coming Soon Overlay -->
    <div class="coming-soon-overlay" id="coming-soon-overlay">
      <div class="coming-soon-content">
        <h1 class="coming-soon-title">COMING SOON</h1>
        <p class="coming-soon-subtitle">Chattanooga's daily voting platform. Two local favorites enter. You pick the winner.</p>
        
        <form class="email-form" id="emailForm">
          <input 
            type="email" 
            class="email-input" 
            placeholder="your@email.com" 
            required 
            id="emailInput"
          >
          <button type="submit" class="email-submit" id="submitBtn">Notify Me</button>
        </form>
        
        <div class="success-message" id="successMsg">✓ You're on the list!</div>
        <div class="launch-date">Launching Soon</div>
        
        <button class="admin-bypass-btn" id="adminBypassBtn">Admin Access</button>
      </div>
    </div>

    <script src="config.js"></script>
    <script src="theme.js"></script>
    <script src="main.js"></script>
    <script>
      // Coming soon overlay control
      const overlay = document.getElementById('coming-soon-overlay');
      const form = document.getElementById('emailForm');
      const input = document.getElementById('emailInput');
      const btn = document.getElementById('submitBtn');
      const success = document.getElementById('successMsg');
      const adminBtn = document.getElementById('adminBypassBtn');
      
      // Check if bypass is active
      if (sessionStorage.getItem('scrumble-bypass') === 'true') {
        overlay.style.display = 'none';
      }
      
      // Admin bypass button
      adminBtn.addEventListener('click', () => {
        const key = prompt('Enter admin key:');
        if (key && key === window.SCRUMBLE_ADMIN_KEY) {
          sessionStorage.setItem('scrumble-bypass', 'true');
          overlay.style.display = 'none';
        } else if (key) {
          alert('Invalid admin key');
        }
      });
      
      // Admin bypass: Shift+A+D+M
      let keySequence = [];
      const adminSequence = ['SHIFT', 'A', 'D', 'M'];
      
      document.addEventListener('keydown', (e) => {
        const key = e.key.toUpperCase();
        if (e.shiftKey && key !== 'SHIFT') {
          keySequence.push('SHIFT', key);
        } else if (!e.shiftKey) {
          keySequence.push(key);
        }
        
        if (keySequence.length > 4) {
          keySequence = keySequence.slice(-4);
        }
        
        if (keySequence.join('') === adminSequence.join('')) {
          sessionStorage.setItem('scrumble-bypass', 'true');
          overlay.style.display = 'none';
          keySequence = [];
        }
      });
      
      // Email form submission
      form.addEventListener('submit', async (e) => {
        e.preventDefault();
        const email = input.value.trim();
        
        if (!email) return;
        
        btn.disabled = true;
        btn.textContent = 'Submitting...';
        
        try {
          const emails = JSON.parse(localStorage.getItem('scrumble-emails') || '[]');
          if (!emails.includes(email)) {
            emails.push(email);
            localStorage.setItem('scrumble-emails', JSON.stringify(emails));
          }
          
          form.style.display = 'none';
          success.classList.add('show');
        } catch (err) {
          btn.textContent = 'Try Again';
          btn.disabled = false;
        }
      });
    </script>
  </body>
</html>
