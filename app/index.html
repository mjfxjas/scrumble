<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Scrumble - Vote on Chattanooga's Best Restaurants, Businesses & More</title>
    <!-- SEO: page meta bundle -->
    <link rel="canonical" href="https://scrumble.cc/" />
    <meta name="description" content="Scrumble - Vote on Chattanooga's Best Restaurants, Businesses & More on Scrumble, Chattanooga's local matchup and voting platform." />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Scrumble - Vote on Chattanooga's Best Restaurants, Businesses & More" />
    <meta property="og:description" content="Scrumble - Vote on Chattanooga's Best Restaurants, Businesses & More on Scrumble, Chattanooga's local matchup and voting platform." />
    <meta property="og:url" content="https://scrumble.cc/" />
    <meta property="og:site_name" content="Scrumble" />
    <meta property="og:image" content="https://scrumble.cc/public/white_duck_logo.png" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Scrumble - Vote on Chattanooga's Best Restaurants, Businesses & More" />
    <meta name="twitter:description" content="Scrumble - Vote on Chattanooga's Best Restaurants, Businesses & More on Scrumble, Chattanooga's local matchup and voting platform." />
    <meta name="twitter:image" content="https://scrumble.cc/public/white_duck_logo.png" />
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebPage",
      "name": "Scrumble - Vote on Chattanooga's Best Restaurants, Businesses & More",
      "description": "Scrumble - Vote on Chattanooga's Best Restaurants, Businesses & More on Scrumble, Chattanooga's local matchup and voting platform.",
      "url": "https://scrumble.cc/",
      "isPartOf": { "@type": "WebSite", "name": "Scrumble", "url": "https://scrumble.cc/" }
    }
    </script>
    <link rel="icon" type="image/x-icon" href="public/scrumble_favicon.ico" />
    <meta
      name="description"
      content="Daily matchups for Chattanooga. Vote on the best tacos, coffee, mayors, and more. See what the city really thinks."
    />
    <meta name="keywords" content="Chattanooga, voting, local businesses, restaurants, best of Chattanooga, Scenic City" />
    
    <!-- Open Graph / Social Media Meta Tags -->
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta property="og:image:alt" content="Scrumble - Chattanooga voting game" />
    <meta property="og:locale" content="en_US" />
    
    <meta name="twitter:image:alt" content="Scrumble - Chattanooga voting game" />
    <meta name="twitter:site" content="@scrumble" />
    <meta name="twitter:creator" content="@scrumble" />
    
    <!-- Schema.org structured data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebSite",
      "name": "Scrumble",
      "alternateName": "Scenic City Rumble",
      "url": "https://scrumble.cc",
      "description": "Daily matchups for Chattanooga. Vote on the best tacos, coffee, mayors, and more.",
      "potentialAction": {
        "@type": "SearchAction",
        "target": "https://scrumble.cc/?q={search_term_string}",
        "query-input": "required name=search_term_string"
      },
      "areaServed": {
        "@type": "City",
        "name": "Chattanooga",
        "@id": "https://www.wikidata.org/wiki/Q186702"
      }
    }
    </script>
    
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Fraunces:wght@600;700&family=Space+Grotesk:wght@400;500;600&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <nav class="navbar">
      <a href="/" class="navbar-brand" style="text-decoration: none; color: inherit;">SCRUMBLE</a>
      <div class="navbar-time" style="opacity: 0; transition: opacity 0.3s ease; color: var(--nav-accent); font-size: 0.9rem; font-weight: 500;"></div>
      <button class="navbar-toggle" aria-label="Toggle menu">
        <span></span>
        <span></span>
        <span></span>
      </button>
      <ul class="navbar-menu">
        <li><a href="#arena">Vote</a></li>
        <li><a href="submit.html">Submit</a></li>
        <li><a href="history.html">History</a></li>
        <li><a href="partner.html">Partner</a></li>
        <li><a href="posters.html">Art</a></li>
        <li><a href="about.html">About</a></li>
        <li><a href="jobs.html">Jobs</a></li>
        <li><button class="admin-toggle" type="button">Admin</button></li>
        <li><button class="theme-toggle" type="button" aria-label="Cycle theme">Theme</button></li>
      </ul>
    </nav>
    <div class="page">
      <header class="hero">
        <div class="hero-bg" id="hero-bg"></div>
        <h1 class="hero-title" role="heading" aria-level="1">
          <span class="hero-word hero-word-1">SCENIC</span>
          <span class="hero-word hero-word-2">CITY</span>
          <span class="hero-word hero-word-3">RUMBLE</span>
        </h1>
        <div class="hero-actions">
          <button class="btn primary" data-scroll="arena" data-text="VOTE NOW">VOTE NOW</button>
          <a href="submit.html" class="btn ghost" style="text-decoration: none; line-height: 2.2;" data-text="SUBMIT A MATCHUP">SUBMIT A MATCHUP</a>
          <button class="btn ghost" id="future-matchups-btn" data-text="FUTURE MATCHUPS">FUTURE MATCHUPS</button>
        </div>
      </header>

      <main>
        <section class="arena" id="arena">
          <div class="arena-header">
            <div>
              <h2>What's Better in Chattanooga?</h2>
            </div>
            <div class="arena-badge">Live</div>
          </div>

          <div class="matchup-container" id="matchup-container">
            <div class="tiny" id="matchup-empty" style="text-align: center; padding: 20px; color: var(--muted);">Loading matchups...</div>
          </div>

          <div class="arena-footer">
            <div class="tiny">Last updated 2 minutes ago</div>
            <button class="btn link">Next matchup</button>
          </div>
        </section>

        <section class="info-grid">
          <article class="panel">
            <h4>How it works</h4>
            <p>Vote on local matchups. One vote per person. Fast, simple, done.</p>
          </article>
          <article class="panel">
            <h4>What we cover</h4>
            <p>Chattanooga, Dynamo of Dixie, the Scenic City, Gig City, River City—all the best of our town.</p>
            <p style="margin-top:8px;">Jump by category: <a href="history.html?category=food" style="color: var(--accent); text-decoration: none;">Food</a> · <a href="history.html?category=coffee" style="color: var(--accent); text-decoration: none;">Coffee</a> · <a href="history.html?category=drinks" style="color: var(--accent); text-decoration: none;">Drinks</a></p>
          </article>
          <article class="panel">
            <h4>Bring the heat</h4>
            <p><a href="submit.html" style="color: var(--accent); text-decoration: none;">Submit a matchup</a> and we'll get it in the ring.</p>
            <p style="margin-top:8px;"><a href="partner.html" style="color: var(--accent); text-decoration: none;">Partner with Scrumble</a> for sponsored matchups.</p>
          </article>
          <article class="panel">
            <h4>Weekly local roundup</h4>
            <p>Get top winners and close battles in one short email.</p>
            <form id="newsletter-form" style="display:flex; gap:8px; margin-top:10px; flex-wrap:wrap;">
              <input id="newsletter-email" type="email" required placeholder="you@email.com" style="flex:1; min-width:220px; padding:10px; border-radius:10px; border:1px solid var(--line); background:var(--bg); color:var(--ink);" />
              <button class="btn ghost" type="submit">Subscribe</button>
            </form>
            <div id="newsletter-status" class="tiny" style="margin-top:8px; color:var(--muted);"></div>
          </article>
        </section>
      </main>

      <footer>
        <div>Scenic City Rumble - Chattanooga, TN</div>
        <div>scrumble.cc</div>
      </footer>
    </div>

    <!-- Future Matchups Modal -->
    <div class="modal" id="future-modal" style="display: none;">
      <div class="modal-overlay"></div>
      <div class="modal-content">
        <div class="modal-header">
          <h2>Upcoming Matchups</h2>
          <button class="modal-close" aria-label="Close">&times;</button>
        </div>
        <div class="modal-body" id="future-list">
          <div style="text-align: center; padding: 20px; color: var(--muted);">Loading...</div>
        </div>
      </div>
    </div>

    <div class="sticky-vote" id="sticky-vote">
      <button class="btn primary sticky-vote-btn" id="sticky-vote-btn" data-text="VOTE NOW">VOTE NOW</button>
    </div>

    <div class="toast" id="toast" role="status" aria-live="polite"></div>

    <script src="config.js"></script>
    <script src="visit.js"></script>
    <script src="theme.js"></script>
    <script src="main.js"></script>
    <script>
      (function () {
        const form = document.getElementById('newsletter-form');
        const email = document.getElementById('newsletter-email');
        const status = document.getElementById('newsletter-status');
        const API_BASE = (window.SCRUMBLE_API_BASE || '').trim();
        const API_URL = API_BASE.endsWith('/') ? API_BASE.slice(0, -1) : API_BASE;

        if (!form) return;
        form.addEventListener('submit', async (e) => {
          e.preventDefault();
          status.textContent = '';
          if (!API_URL) {
            status.textContent = 'Newsletter unavailable right now.';
            return;
          }

          try {
            const resp = await fetch(`${API_URL}/newsletter`, {
              method: 'POST',
              headers: { 'Content-Type': 'application/json' },
              body: JSON.stringify({ email: email.value.trim(), source: 'homepage_panel' })
            });
            const data = await resp.json();
            if (!resp.ok || data.success === false) throw new Error(data.error || 'Subscribe failed');
            status.textContent = 'Subscribed. Check your inbox soon.';
            email.value = '';
          } catch (err) {
            status.textContent = `Could not subscribe: ${err.message}`;
          }
        });
      })();
    </script>
  </body>
</html>
